<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Guess the Frame - DDC Games</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    ></script>

    <link rel="shortcut icon" href="./img-src/channels4_profile.jpg" type="image/x-icon" />
  </head>
  <body class="bg-light">
    
    <!-- Rules Modal (Appears on Page Load) -->
    <div class="modal fade show d-block" id="rulesModal" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-center p-4 border-0 shadow-lg">
          <div class="modal-header border-0">
            <h3 class="modal-title fw-bold text-primary w-100">ğŸ¬ Game Rules ğŸ¬</h3>
          </div>
          <div class="modal-body">
            <ul class="list-unstyled text-dark fs-5">
              <li>ğŸ“Œ Guess the movie from the given frame.</li>
              <li>ğŸ­ Click <span class="fw-bold text-success">"Show Answer"</span> to check.</li>
              <li>ğŸ† Keep track of scores in the scoreboard.</li>
              <li>ğŸ‘‘ Highest scorer wins the game!</li>
            </ul>
          </div>
          <div class="modal-footer border-0 justify-content-center">
            <button class="btn btn-lg btn-primary fw-bold px-4 py-2 shadow-sm rounded-pill" onclick="startGame()">
              ğŸ¬ Start Game 
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Header -->
    <header class="container-fluid text-center py-4 bg-primary text-white d-none" id="game-header">
      <h1 class="fw-bold display-4">Guess the Frame</h1>
    </header>

    <!-- Game Section -->
    <div id="game-container" class="container d-flex flex-column align-items-center text-center py-5 min-vh-100 d-none">
      <h3 class="fw-bold text-dark mb-3">
        Can You Guess the Movie from this Frame?
      </h3>

      <!-- Movie Frame (Consistent Size) -->
      <div class="w-75">
        <img
          src="./img-src/image1.png"
          id="movie-frame"
          class="img-fluid rounded shadow w-100 object-fit-cover"
          alt="Movie Frame"
        />
      </div>

      <!-- Answer Section -->
      <p id="answer" class="fw-bold text-success fs-4 d-none">
        The movie is: <span id="movie-name"></span>
      </p>

      <!-- Buttons -->
      <div class="d-flex gap-3 w-75 mt-5">
        <button class="btn btn-success btn-lg w-50" onclick="showAnswer()">
          Show Answer
        </button>
        <button class="btn btn-primary btn-lg w-50" id="next-frame-btn" onclick="nextFrame()">
          Next Frame
        </button>
      </div>
    </div>

    <!-- Scoreboard -->
    <div id="scoreboard" class="position-fixed bottom-0 end-0 bg-white shadow rounded p-3 m-4 d-none" style="width: 250px">
      <div class="fw-bold text-center mb-2 fs-5 text-dark">Scoreboard</div>
      <div class="d-flex justify-content-between align-items-center mt-2">
        <span>Suraj</span>
        <span>
          <button class="btn btn-success btn-sm p-1" onclick="updateScore('suraj', 1)">+</button>
          <span id="score-suraj">0</span>
          <button class="btn btn-danger btn-sm p-1" onclick="updateScore('suraj', -1)">âˆ’</button>
        </span>
      </div>
      <div class="d-flex justify-content-between align-items-center mt-2">
        <span>Yogi</span>
        <span>
          <button class="btn btn-success btn-sm p-1" onclick="updateScore('yogi', 1)">+</button>
          <span id="score-yogi">0</span>
          <button class="btn btn-danger btn-sm p-1" onclick="updateScore('yogi', -1)">âˆ’</button>
        </span>
      </div>
    </div>

    <!-- Final Score Table -->
    <div id="final-scoreboard" class="position-absolute top-50 start-50 translate-middle bg-white p-4 rounded shadow d-none text-center" style="width: 400px">
      <h3 class="mb-3">Final Scores</h3>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Player</th>
            <th>Score</th>
          </tr>
        </thead>
        <tbody id="score-table-body"></tbody>
      </table>
      <button class="btn btn-primary mt-3" onclick="restartGame()">
        Back to Homepage
      </button>
    </div>

    <!-- External JavaScript -->
    <script src="./guess-the-frame.js"></script>

    <script>
      // Function to start the game after rules modal
      function startGame() {
        document.getElementById("rulesModal").classList.add("d-none");
        document.getElementById("game-header").classList.remove("d-none");
        document.getElementById("game-container").classList.remove("d-none");
        document.getElementById("scoreboard").classList.remove("d-none");
      }
    </script>

  </body>
</html>
